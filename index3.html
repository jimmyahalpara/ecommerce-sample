<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACID DROP | Streetwear</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Space Grotesk', 'sans-serif'],
                        mono: ['Space Mono', 'monospace'],
                    },
                    colors: {
                        acid: {
                            green: '#ccff00',
                            purple: '#b026ff',
                            pink: '#ff00cc',
                            blue: '#00ffff',
                        }
                    },
                    boxShadow: {
                        'hard': '5px 5px 0px 0px rgba(0,0,0,1)',
                        'hard-sm': '3px 3px 0px 0px rgba(0,0,0,1)',
                        'hard-hover': '2px 2px 0px 0px rgba(0,0,0,1)',
                    }
                }
            }
        }
    </script>

    <style>
        /* Raw Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
            background: black;
        }
        ::-webkit-scrollbar-thumb {
            background: #ccff00; 
            border: 2px solid black;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: white; 
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Marquee Animation */
        .marquee-container {
            overflow: hidden;
            white-space: nowrap;
        }
        .marquee-content {
            display: inline-block;
            animation: marquee 15s linear infinite;
        }
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* Glitch Effect on Hover */
        .glitch-hover:hover {
            animation: shake 0.3s cubic-bezier(.36,.07,.19,.97) both;
            background-color: #ccff00;
            color: black;
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-2px, 0, 0); }
            40%, 60% { transform: translate3d(2px, 0, 0); }
        }
    </style>
</head>
<body class="bg-white text-black font-sans selection:bg-acid-purple selection:text-white">

    <!-- Marquee Bar -->
    <div class="bg-acid-green border-b-2 border-black py-2 overflow-hidden font-mono text-sm font-bold uppercase">
        <div class="marquee-container">
            <div class="marquee-content">
                FREE SHIPPING WORLDWIDE /// NEW DROP: ACID_WASH_V2 /// 50% OFF ALL ACCESSORIES /// FREE SHIPPING WORLDWIDE /// NEW DROP: ACID_WASH_V2 /// 50% OFF ALL ACCESSORIES ///
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white border-b-2 border-black" id="navbar">
        <div class="max-w-full px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Left Nav -->
                <div class="hidden md:flex space-x-6 font-mono font-bold text-sm">
                    <a href="#" class="hover:underline decoration-2 underline-offset-4 decoration-acid-pink">MEN</a>
                    <a href="#" class="hover:underline decoration-2 underline-offset-4 decoration-acid-blue">WOMEN</a>
                    <a href="#" class="hover:underline decoration-2 underline-offset-4 decoration-acid-green">DROP_01</a>
                </div>

                <!-- Logo -->
                <div class="flex-shrink-0 cursor-pointer transform hover:-rotate-2 transition-transform duration-200" onclick="window.scrollTo(0,0)">
                    <div class="bg-black text-white px-4 py-2 font-black text-2xl tracking-tighter border-2 border-transparent hover:border-black hover:bg-white hover:text-black shadow-hard-sm transition-all">
                        ACID_DROP®
                    </div>
                </div>

                <!-- Right Actions -->
                <div class="flex items-center space-x-6">
                    <button class="border-2 border-black p-2 hover:bg-black hover:text-white transition shadow-hard-sm active:shadow-none active:translate-x-[3px] active:translate-y-[3px]">
                        <i class="fas fa-search"></i>
                    </button>
                    <button id="nav-wishlist-btn" class="flex items-center space-x-2 border-2 border-black px-4 py-2 hover:bg-acid-pink transition shadow-hard-sm active:shadow-none active:translate-x-[3px] active:translate-y-[3px] font-mono font-bold text-sm">
                        <i class="fas fa-heart"></i>
                        <span class="hidden md:inline">SAVED</span>
                        <span id="wishlist-count" class="bg-black text-white text-[10px] px-1.5 py-0.5 hidden">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Brutalist Hero -->
    <section class="border-b-2 border-black">
        <div class="grid grid-cols-1 md:grid-cols-2">
            <!-- Text Side -->
            <div class="p-8 md:p-20 flex flex-col justify-center bg-acid-blue/10 relative overflow-hidden border-b-2 md:border-b-0 md:border-r-2 border-black">
                <!-- Decorative BG Text -->
                <span class="absolute -top-10 -left-10 text-9xl font-black text-black/5 select-none pointer-events-none z-0">RAW</span>
                
                <div class="relative z-10">
                    <div class="inline-block bg-acid-green border-2 border-black px-3 py-1 font-mono text-xs font-bold mb-6 shadow-hard-sm">
                        SPRING_COLLECTION_2024
                    </div>
                    <h1 class="text-6xl md:text-8xl font-black leading-[0.9] mb-6 tracking-tighter">
                        WEAR <br>
                        THE <br>
                        <span class="text-stroke-2 text-transparent bg-clip-text bg-gradient-to-r from-acid-pink to-acid-purple" style="-webkit-text-stroke: 2px black;">NOISE</span>
                    </h1>
                    <p class="font-mono text-sm md:text-base mb-10 max-w-md bg-white border-2 border-black p-4 shadow-hard-sm">
                        > SYSTEM_READY<br>
                        > DEPLOYING NEW AESTHETICS<br>
                        > DISRUPTING NORMS...
                    </p>
                    <button onclick="document.getElementById('catalog').scrollIntoView({behavior: 'smooth'})" class="inline-block bg-black text-white text-xl font-bold px-10 py-4 border-2 border-black shadow-hard hover:bg-acid-green hover:text-black hover:shadow-hard-hover hover:translate-x-[3px] hover:translate-y-[3px] transition-all">
                        SHOP_NOW ->
                    </button>
                </div>
            </div>

            <!-- Image Side -->
            <div class="relative h-[500px] md:h-auto overflow-hidden group">
                <img src="https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-300">
                <div class="absolute inset-0 bg-acid-purple/20 mix-blend-overlay"></div>
                
                <!-- Floating Sticker -->
                <div class="absolute bottom-10 right-10 bg-white border-2 border-black p-4 rotate-3 shadow-hard">
                    <p class="font-black text-2xl">★ FRESH ★</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Catalog Section -->
    <section id="catalog" class="max-w-full px-4 sm:px-6 lg:px-8 py-20 bg-grid-pattern">
        <div class="flex justify-between items-end mb-12 border-b-2 border-black pb-4">
            <h2 class="text-4xl font-black uppercase tracking-tighter">
                <i class="fas fa-cube text-acid-pink mr-2"></i> Inventory
            </h2>
            <div class="font-mono text-sm bg-black text-white px-2 py-1">
                COUNT: <span id="item-count">0</span>
            </div>
        </div>

        <!-- Product Grid -->
        <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            <!-- Products injected -->
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black text-white border-t-4 border-acid-green pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12">
            <div class="col-span-1 md:col-span-2">
                <h2 class="text-5xl font-black mb-6">ACID_DROP®</h2>
                <p class="font-mono text-sm text-gray-400 max-w-sm">
                    Reimagining streetwear through the lens of brutalist architecture and digital decay.
                </p>
            </div>
            <div>
                <h4 class="font-mono font-bold text-acid-green mb-4">> LINKS</h4>
                <ul class="space-y-2 font-mono text-sm">
                    <li><a href="#" class="hover:text-acid-pink hover:underline">_ABOUT</a></li>
                    <li><a href="#" class="hover:text-acid-pink hover:underline">_CAREERS</a></li>
                    <li><a href="#" class="hover:text-acid-pink hover:underline">_LEGAL</a></li>
                </ul>
            </div>
            <div>
                <h4 class="font-mono font-bold text-acid-green mb-4">> SOCIAL</h4>
                <div class="flex space-x-4">
                    <a href="#" class="w-10 h-10 border-2 border-white flex items-center justify-center hover:bg-white hover:text-black transition"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="w-10 h-10 border-2 border-white flex items-center justify-center hover:bg-white hover:text-black transition"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
        <div class="mt-16 text-center font-mono text-xs text-gray-600 border-t border-gray-800 pt-8">
            © 2024 ACID_DROP LLC. ALL RIGHTS RESERVED. SYSTEM_ID: 883-X
        </div>
    </footer>

    <!-- Product Drawer (Brutalist Window) -->
    <div id="product-drawer" class="fixed inset-0 z-[100] hidden">
        <!-- Backdrop -->
        <div id="drawer-backdrop" class="absolute inset-0 bg-acid-purple/50 backdrop-blur-sm"></div>

        <!-- Drawer Panel -->
        <div id="drawer-panel" class="absolute inset-y-0 right-0 w-full md:w-[600px] bg-white border-l-4 border-black shadow-[-10px_0px_0px_0px_rgba(0,0,0,1)] flex flex-col h-full transform translate-x-full transition-transform duration-300 ease-out">
            
            <!-- Window Header -->
            <div class="bg-black text-white p-4 flex justify-between items-center border-b-2 border-black">
                <div class="font-mono text-sm">
                    <span class="w-3 h-3 bg-red-500 rounded-full inline-block mr-2 border border-white"></span>
                    PRODUCT_DETAILS.EXE
                </div>
                <button id="close-drawer" class="text-white hover:text-acid-green font-mono font-bold">[X]</button>
            </div>

            <!-- Content -->
            <div class="flex-1 overflow-y-auto p-6 bg-grid-pattern relative">
                
                <!-- Main Image Container -->
                <div class="border-2 border-black p-2 bg-white shadow-hard mb-8 relative group">
                    <div class="aspect-w-3 aspect-h-4 relative overflow-hidden bg-gray-100 border-2 border-black">
                        <img id="drawer-img" src="" class="object-cover w-full h-full grayscale group-hover:grayscale-0 transition duration-300">
                    </div>
                    
                    <!-- Brutalist Controls -->
                    <div class="absolute top-1/2 -translate-y-1/2 w-full flex justify-between px-4 pointer-events-none">
                        <button id="drawer-prev" class="pointer-events-auto bg-white border-2 border-black p-3 hover:bg-black hover:text-white shadow-hard transition"><i class="fas fa-arrow-left"></i></button>
                        <button id="drawer-next" class="pointer-events-auto bg-white border-2 border-black p-3 hover:bg-black hover:text-white shadow-hard transition"><i class="fas fa-arrow-right"></i></button>
                    </div>

                    <!-- Pagination Dots -->
                    <div id="drawer-thumbs" class="flex justify-center mt-4 space-x-2">
                        <!-- Thumbs injected -->
                    </div>
                </div>

                <!-- Info -->
                <div class="bg-white border-2 border-black p-6 shadow-hard mb-20">
                    <div class="flex justify-between items-start border-b-2 border-black pb-4 mb-4">
                        <div>
                            <div id="drawer-brand" class="bg-black text-white text-xs font-mono inline-block px-2 py-1 mb-2">BRAND</div>
                            <h2 id="drawer-title" class="text-3xl font-black uppercase leading-tight">Product Title</h2>
                        </div>
                        <div class="text-right">
                            <p id="drawer-price" class="text-3xl font-black text-acid-purple">$0.00</p>
                        </div>
                    </div>

                    <p id="drawer-desc" class="font-mono text-sm leading-relaxed mb-6">
                        Loading description data...
                    </p>

                    <!-- Sizes -->
                    <div class="mb-6">
                        <p class="font-mono text-xs font-bold mb-2">> SELECT_SIZE:</p>
                        <div class="flex space-x-2">
                            <div class="w-10 h-10 border-2 border-black flex items-center justify-center font-bold hover:bg-black hover:text-white cursor-pointer transition">S</div>
                            <div class="w-10 h-10 border-2 border-black flex items-center justify-center font-bold bg-black text-white cursor-pointer transition">M</div>
                            <div class="w-10 h-10 border-2 border-black flex items-center justify-center font-bold hover:bg-black hover:text-white cursor-pointer transition">L</div>
                            <div class="w-10 h-10 border-2 border-black flex items-center justify-center font-bold hover:bg-black hover:text-white cursor-pointer transition">XL</div>
                        </div>
                    </div>
                </div>

                <!-- Sticky Footer Action -->
                <div class="absolute bottom-0 left-0 w-full p-4 bg-white border-t-2 border-black">
                    <button id="drawer-wishlist-btn" class="w-full bg-acid-green border-2 border-black py-4 font-black text-xl uppercase tracking-wider shadow-hard hover:bg-black hover:text-acid-green hover:shadow-hard-hover hover:translate-x-[2px] hover:translate-y-[2px] transition-all flex items-center justify-center gap-3">
                        <i class="fas fa-heart"></i> <span>SAVE_ITEM</span>
                    </button>
                </div>

            </div>
        </div>
    </div>

    <!-- Wishlist Sidebar -->
    <div id="wishlist-sidebar" class="fixed inset-0 z-[100] hidden">
        <div id="wishlist-backdrop" class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
        <div id="wishlist-panel" class="absolute inset-y-0 left-0 w-full max-w-md bg-acid-green border-r-4 border-black shadow-[10px_0px_0px_0px_rgba(0,0,0,1)] transform -translate-x-full transition-transform duration-300 ease-out flex flex-col">
            
            <div class="bg-black text-white p-6 flex justify-between items-center">
                <h2 class="font-black text-2xl italic">SAVED_ITEMS //</h2>
                <button id="close-wishlist" class="text-white hover:text-acid-pink font-mono">[CLOSE]</button>
            </div>

            <div id="wishlist-items" class="flex-1 overflow-y-auto p-6 space-y-4 font-mono">
                <!-- Items -->
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            
            // --- Products Data ---
            const products = [
                { id: 1, brand: "OBEY", title: "Graphic Oversized Tee", price: 45.00, images: ["https://images.unsplash.com/photo-1576871337632-b9aef4c17ab9?w=800&q=80", "https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=800&q=80"], desc: "Heavyweight cotton with plastisol print. Boxy fit." },
                { id: 2, brand: "STUSSY", title: "Bucket Hat", price: 55.00, images: ["https://images.unsplash.com/photo-1575428652377-a269724075dc?w=800&q=80", "https://images.unsplash.com/photo-1521369909029-2afed882baee?w=800&q=80"], desc: "Classic bucket hat with embroidered stock logo." },
                { id: 3, brand: "CARHARTT", title: "Utility Vest", price: 120.00, images: ["https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?w=800&q=80", "https://images.unsplash.com/photo-1617137968427-85924c809a10?w=800&q=80"], desc: "Water repellent canvas. Multiple 3D pockets." },
                { id: 4, brand: "VANS", title: "Checkerboard Slip-On", price: 65.00, images: ["https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=800&q=80", "https://images.unsplash.com/photo-1551107696-a4b0c5a0d9a2?w=800&q=80"], desc: "The classic slip-on. Canvas upper with rubber waffle outsole." },
                { id: 5, brand: "SUPREME", title: "Cargo Pant", price: 180.00, images: ["https://images.unsplash.com/photo-1541099649105-f69ad21f3246?w=800&q=80", "https://images.unsplash.com/photo-1473966968600-fa801b869a1a?w=800&q=80"], desc: "Cotton ripstop with enzyme wash. Drawcord at cuffs." },
                { id: 6, brand: "NIKE SB", title: "Dunk Low", price: 110.00, images: ["https://images.unsplash.com/photo-1584735175315-9d5df23860e6?w=800&q=80", "https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=800&q=80"], desc: "Padded tongue for comfort. Zoom Air unit in the heel." }
            ];

            // --- Wishlist Logic ---
            let wishlist = JSON.parse(localStorage.getItem('wishlist_acid')) || [];

            function updateWishlistUI() {
                $('#wishlist-count').text(wishlist.length).toggle(wishlist.length > 0);
                $('#nav-wishlist-btn').toggleClass('bg-acid-pink text-white', wishlist.length > 0);
                
                const $container = $('#wishlist-items');
                $container.empty();

                if(wishlist.length === 0) {
                    $container.html('<div class="bg-black/10 p-4 border-2 border-black border-dashed text-center">NO DATA FOUND.</div>');
                    return;
                }

                wishlist.forEach(id => {
                    const p = products.find(x => x.id === id);
                    if(!p) return;
                    $container.append(`
                        <div class="flex gap-4 bg-white border-2 border-black p-2 shadow-hard-sm">
                            <img src="${p.images[0]}" class="w-16 h-16 object-cover border-2 border-black">
                            <div class="flex-1">
                                <h4 class="font-bold uppercase text-sm leading-tight">${p.title}</h4>
                                <p class="text-xs font-mono text-gray-500">${p.brand}</p>
                                <p class="font-bold text-acid-purple">$${p.price}</p>
                            </div>
                            <button onclick="window.removeWishlist(${p.id})" class="text-black hover:text-red-500 font-bold px-2">X</button>
                        </div>
                    `);
                });
            }

            function toggleWishlist(id) {
                const index = wishlist.indexOf(id);
                if(index === -1) wishlist.push(id);
                else wishlist.splice(index, 1);
                localStorage.setItem('wishlist_acid', JSON.stringify(wishlist));
                updateWishlistUI();
                renderProducts(); // Refresh grid icons
                
                // Refresh Drawer Button if open
                const $drawerBtn = $('#drawer-wishlist-btn');
                if($drawerBtn.length) {
                    // Check if current drawer product is this id (simple check)
                    // In a real app we'd check the data attribute of the open drawer
                    // We will handle this in the open logic, but for live update:
                     const openId = $('#product-drawer:not(.hidden) #drawer-wishlist-btn').data('id');
                     if(openId === id) updateDrawerBtn(wishlist.includes(id));
                }
            }

            window.removeWishlist = function(id) {
                toggleWishlist(id);
            };

            // --- Render Grid ---
            function renderProducts() {
                $('#item-count').text(products.length);
                $('#product-grid').empty();
                
                products.forEach(p => {
                    const isSaved = wishlist.includes(p.id);
                    const btnClass = isSaved ? 'bg-acid-pink text-white' : 'bg-white text-black hover:bg-black hover:text-white';
                    const btnText = isSaved ? 'SAVED' : 'SAVE';

                    $('#product-grid').append(`
                        <div class="bg-white border-2 border-black p-4 shadow-hard hover:translate-x-[-4px] hover:translate-y-[-4px] hover:shadow-[9px_9px_0px_0px_rgba(0,0,0,1)] transition-all cursor-pointer product-card group" data-id="${p.id}">
                            <div class="relative border-2 border-black mb-4 overflow-hidden bg-gray-100 aspect-[1/1]">
                                <img src="${p.images[0]}" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition duration-300">
                                <div class="absolute top-2 left-2 bg-acid-green border-2 border-black px-2 py-1 text-xs font-bold shadow-hard-sm">
                                    ${p.brand}
                                </div>
                            </div>
                            <h3 class="font-black text-xl uppercase truncate leading-none mb-2">${p.title}</h3>
                            <div class="flex justify-between items-end">
                                <span class="font-mono text-lg font-bold text-acid-purple">$${p.price}</span>
                                <button class="save-btn-grid text-xs font-bold border-2 border-black px-3 py-1 shadow-hard-sm transition ${btnClass}" data-id="${p.id}">
                                    ${btnText}
                                </button>
                            </div>
                        </div>
                    `);
                });
            }
            renderProducts();

            // --- Drawer Logic ---
            let currentImages = [];
            let imgIdx = 0;

            function updateDrawerBtn(isSaved) {
                const $btn = $('#drawer-wishlist-btn');
                if(isSaved) {
                    $btn.html('<i class="fas fa-check"></i> <span>SAVED_TO_LIST</span>');
                    $btn.removeClass('bg-acid-green hover:bg-black hover:text-acid-green').addClass('bg-acid-pink text-white hover:bg-black hover:text-white');
                } else {
                    $btn.html('<i class="fas fa-heart"></i> <span>SAVE_ITEM</span>');
                    $btn.removeClass('bg-acid-pink text-white hover:bg-black hover:text-white').addClass('bg-acid-green text-black hover:bg-black hover:text-acid-green');
                }
            }

            function updateDrawerImage() {
                $('#drawer-img').attr('src', currentImages[imgIdx]);
                // Update dots
                $('#drawer-thumbs').empty();
                currentImages.forEach((_, i) => {
                    const activeClass = (i === imgIdx) ? 'bg-black' : 'bg-white';
                    $('#drawer-thumbs').append(`<div class="w-3 h-3 border-2 border-black ${activeClass} cursor-pointer dot-nav" data-idx="${i}"></div>`);
                });
            }

            // Open Drawer
            $(document).on('click', '.product-card', function(e) {
                if($(e.target).hasClass('save-btn-grid')) return;

                const id = $(this).data('id');
                const p = products.find(x => x.id === id);
                
                $('#drawer-brand').text(p.brand);
                $('#drawer-title').text(p.title);
                $('#drawer-price').text(`$${p.price.toFixed(2)}`);
                $('#drawer-desc').text(p.desc);
                $('#drawer-wishlist-btn').data('id', id);
                
                updateDrawerBtn(wishlist.includes(id));
                
                currentImages = p.images;
                imgIdx = 0;
                updateDrawerImage();

                $('#product-drawer').removeClass('hidden');
                setTimeout(() => $('#drawer-panel').removeClass('translate-x-full'), 10);
                $('body').addClass('overflow-hidden');
            });

            // Close Drawer
            $('#close-drawer, #drawer-backdrop').click(function() {
                $('#drawer-panel').addClass('translate-x-full');
                setTimeout(() => {
                    $('#product-drawer').addClass('hidden');
                    $('body').removeClass('overflow-hidden');
                }, 300);
            });

            // Image Nav
            $('#drawer-next').click(() => { imgIdx = (imgIdx + 1) % currentImages.length; updateDrawerImage(); });
            $('#drawer-prev').click(() => { imgIdx = (imgIdx - 1 + currentImages.length) % currentImages.length; updateDrawerImage(); });
            $(document).on('click', '.dot-nav', function() { imgIdx = $(this).data('idx'); updateDrawerImage(); });

            // Wishlist Actions
            $(document).on('click', '.save-btn-grid', function(e) {
                e.stopPropagation();
                toggleWishlist($(this).data('id'));
            });

            $('#drawer-wishlist-btn').click(function() {
                toggleWishlist($(this).data('id'));
                // Force visual update on button immediately
                updateDrawerBtn(wishlist.includes($(this).data('id')));
            });

            // Wishlist Sidebar
            $('#nav-wishlist-btn').click(() => {
                $('#wishlist-sidebar').removeClass('hidden');
                setTimeout(() => $('#wishlist-panel').removeClass('-translate-x-full'), 10);
            });

            $('#close-wishlist, #wishlist-backdrop').click(() => {
                $('#wishlist-panel').addClass('-translate-x-full');
                setTimeout(() => $('#wishlist-sidebar').addClass('hidden'), 300);
            });

            // Init
            updateWishlistUI();
        });
    </script>
</body>
</html>